<table class="table table-striped table-hover mb-0">
  <thead class="thead-light">
    <tr>
      <th style="width: 80%;">Источник</th>
      <th style="width: 20%;">Количество</th>
    </tr>
  </thead>
  <tbody>
    <% if (!referralStats || referralStats.length === 0) { %>
        <tr>
            <td colspan="2" class="text-center text-muted">Нет данных по источникам трафика.</td>
        </tr>
    <% } else { %>
        <% referralStats.forEach(source => { %>
          <tr>
            <td>
              <% 
                let safeSource = String(source.source || '—');
                safeSource = safeSource.replace(/</g, "&lt;").replace(/>/g, "&gt;");
              %>
              <%- safeSource %>
            </td>
            <td><span class="badge bg-secondary"><%= source.count %></span></td>
          </tr>
        <% }) %>
    <% } %>
  </tbody>
</table>